<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Dummy Demo</title>
   <meta name="author" content="Zach Bruhnke" />
   <link rel="stylesheet" href="/docs/css/syntax.css" type="text/css" />
   <link rel="stylesheet" href="/docs/css/screen.css" type="text/css" media="screen, projection" />
</head>
<body>

<!-- ClickTale Top part -->
<script type="text/javascript">
var WRInitTime=(new Date()).getTime();
</script>
<!-- ClickTale end of Top part -->

<div class="site">
  <div class="title">
    <a href="/docs">StockBot Documents</a>
  </div>

  <p>Variables:
stocks database: xxxx<em>ratio
company database: xxxx</em>comp
kosher: xxx<em>xxx</em>kosher?
valuation equation: get<em>xxxx</em>ratio<em>comparable
data point equation: get</em>xxxx<em>ratio
company view: @xxxx</em>comp_view
Quandl Variable: &quot;XXXXX&quot;</p>

<ol>
<li>Add conditional statement in get<em>data method to add the new value to the computed</em>share_value array:</li>
</ol>

<p>xxx<em>xxx</em>kosher? ? @composite<em>share</em>values &lt;&lt; (@xxxx<em>comp = get</em>xxxx<em>ratio</em>comparable) : @composite<em>share</em>values &lt;&lt; (@xxxx_comp = nil)</p>

<ol>
<li>Create valuation equation:</li>
</ol>

<p>def get<em>xxxx</em>ratio<em>comparable
    comparables = @sorted</em>comparables
    new<em>array = [] 
    comparables.each {|item| new</em>array &lt;&lt; item.xxxx<em>ratio;}
    @xxxx</em>comp = @current<em>stock</em>price * ( ((new<em>array.inject(:+) / new</em>array.count).to<em>f) / @xxxx</em>ratio)</p>

<p>return @xxxx_comp
end</p>

<ol>
<li>Create equation prerequisite method:</li>
</ol>

<p>def xxx<em>xxx</em>kosher?
    get<em>xxxx</em>ratio &amp;&amp; get<em>weighted</em>quote &amp;&amp; get<em>market</em>cap &amp;&amp; get_comparables:
end</p>

<ol>
<li>Create the subordinate methods for the equation prerequisite that get/check relevant pieces of data:</li>
</ol>

<p>def get<em>xxxx</em>ratio
    if @get<em>xxxx</em>ratio.nil?
        if !@quandlStockData.nil? &amp;&amp; @quandlStockData.has<em>key?(&quot;XXXXX&quot;) &amp;&amp; !@quandlStockData[&quot;XXXXX&quot;].nil?
            @get</em>xxxx<em>ratio = @quandlStockData[&quot;XXXXX&quot;].to</em>f
        elsif @databaseValues.respond<em>to?(&quot;get</em>xxxx<em>ratio&quot;) &amp;&amp; !@databaseValues[&quot;get</em>xxxx<em>ratio&quot;].nil?
            @get</em>xxxx<em>ratio = @databaseValues[&quot;get</em>xxxx<em>ratio&quot;]
        else
            @get</em>xxxx_ratio = nil
        end
    else
        return true
    end
end</p>

<ol>
<li><p>Determine where the data will come for the prerequisite methods
&quot;Current PE Ratio&quot;</p></li>
<li><p>Add the new computed value to the hashpack hash:</p></li>
</ol>

<p>&quot;xxxx<em>comp&quot; =&gt; self.instance</em>variable<em>get(:@xxxx</em>comp)</p>

<ol>
<li>Add the new data input to the hashpack:</li>
</ol>

<p>&quot;xxxx<em>ratio&quot; =&gt; self.instance</em>variable<em>get(:@xxxx</em>ratio)</p>

<ol>
<li>Add newly computed value to company model for both method:</li>
</ol>

<p>new<em>company.xxxx</em>comp = computed[&quot;xxxx<em>comp&quot;]
update</em>company.xxxx<em>comp = computed[&quot;xxxx</em>comp&quot;]</p>

<ol>
<li>Add new API data point to stock model for both methods:</li>
</ol>

<p>new<em>stock.xxxx</em>ratio = computed[&quot;xxxx<em>ratio&quot;]
updated</em>stock.xxxx<em>ratio = computed[&quot;xxxx</em>ratio&quot;]</p>

<ol>
<li><p>Migrate stock database to allow for the new value:
add<em>column :stocks, :xxxx</em>ratio, :float</p></li>
<li><p>Migrate companies database to allow for the new value
add<em>column :companies, :xxxx</em>comp, :float</p></li>
<li><p>Revise or Add ModValue equations: </p></li>
</ol>

<p>xxx<em>xxx</em>kosher? ? @composite<em>share</em>values &lt;&lt; (@xxxx<em>comp = get</em>xxxx<em>ratio</em>comparable) : @composite<em>share</em>values &lt;&lt; (@xxxx_comp = nil)</p>

<p>def xxx<em>xxx</em>kosher?
    get<em>xxxx</em>ratio &amp;&amp; get<em>weighted</em>quote &amp;&amp; get<em>market</em>cap &amp;&amp; get_comparables
end</p>

<ol>
<li><p>Add the new value to the company view
tr
td
    |
    b Current PE Comparable Valuation:
td
    = @xxxx<em>comp</em>view</p></li>
<li><p>Add the new value to the company controller view</p></li>
</ol>

<p>!@company.xxxx<em>comp.nil? ? @xxxx</em>comp<em>view = (@company.xxxx</em>comp).round(2) : @xxxx<em>comp</em>view = &quot;N/A&quot;</p>

<ol>
<li><p>Change attribute accessor to reflect new database field
:xxxx_ratio</p></li>
<li><p>Add company to completeness method in Company Helper
data.xxxx_comp</p></li>
</ol>


  <div class="footer">
    <div class="contact">
      <p>
        Matt Tschoegl<br />
      </p>
    </div>
    <div class="contact">
      <p>
        <a href="http://github.com/realtschoegl/">github.com/RealTschoegl</a><br />
        <a href="http://twitter.com/realtschoegl/">twitter.com/realtschoegl</a><br />
      </p>
    </div>
  </div>
</div>

</body>
</html>
