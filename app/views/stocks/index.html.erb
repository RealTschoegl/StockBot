<!-- Intro Page that explains whats going on -->
<!-- Has the user pick the stock that they will be running
 -->


<!-- http://developer.yahoo.com/yui/autocomplete/ -->
<!-- http://stackoverflow.com/questions/9191920/jquery-autocomplete-and-yahoo-finance -->

$("#txtTicker").autocomplete({
source: function (request, response) {
    $.ajax({
        type: "GET",
        dataType: "jsonp",
        jsonp: "callback",
        jsonpCallback: "YAHOO.Finance.SymbolSuggest.ssCallback",
        data: {
            query: request.term
        },
        cache: true,
        url: "http://autoc.finance.yahoo.com/autoc"
    });

    YAHOO.Finance.SymbolSuggest.ssCallback = function (data) {
        response($.map(data.ResultSet.Result, function (item) {
            return {
                label: item.name,
                value: item.symbol
            }
        }));
    }
},
minLength: 1,
select: function (event, ui) {
    $("#txtTicker").val(ui.item.name);
},
open: function () {
    $(this).removeClass("ui-corner-all").addClass("ui-corner-top");
},
close: function () {
    $(this).removeClass("ui-corner-top").addClass("ui-corner-all");
}
});

$.ajax({ 
  type: 'POST', 
  url: 'path/to/controller', 
  data: {'start_date' : $("input[name='report[start_date]']").val(), 
        'end_date' : $("input[name='report[end_date]']").val() }, 
  success: function(data){
    //data is whatever you RETURN from your controller. 
    //an array, string, object...something 
  } 
});`  

For controller
the_start = params[:start_date],
the_end = params[:end_date]
render :layout => false